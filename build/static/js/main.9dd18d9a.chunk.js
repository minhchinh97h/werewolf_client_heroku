(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a,r,o,i,l,c,s,m,d,u,p,y,h,v,g,f,b,E,T,I,C,B,w,k,_,R,O,L,P,N,j,S,M,U,x,F,A,D,W,G,q,J,K,H,Y,V,$,z,Q,X,Z,ee,te,ne,ae=n(0),re=n.n(ae),oe=n(42),ie=n.n(oe),le=(n(50),n(2)),ce=n(3),se=n(5),me=n(4),de=n(6),ue=(n(51),n(122)),pe=(n(52),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n.playButton=function(){n.props.history.push("/login")},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return re.a.createElement("div",{className:"Welcome-page-cover"},re.a.createElement("div",{className:"Welcome-page-title"},re.a.createElement("h2",null,"The Werewolves of Millers Hollow"),re.a.createElement("p",{className:"small-title-description"},"ver. 1.0.0")),re.a.createElement("div",{className:"Welcome-page-button"},re.a.createElement("button",{onClick:this.playButton},"Play")),re.a.createElement("div",{className:"welcome-bottom-link"}))}}]),t}(ae.Component)),ye={Werewolves:0,"Ordinary Townsfolk":0,"Seer/ Fortune Teller":0,Cupid:0,Witch:0,"The savior":0,"The pied piper":0,"The fox":0,"The bear leader":0},he="https://werewolves-of-millers-hollow.herokuapp.com/",ve=(n(53),n(54)),ge=n(55),fe=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n.newRoomButton=function(){var e=ve(),t=document.getElementById("input_player_username");0===t.value.length?t.placeholder="Please enter a name":ge({method:"post",url:he+"rooms/"+e+"/create-player-and-room",data:{roomid:e,username:t.value,currentRoles:ye}}).then(function(a){"ok"===a.data&&n.props.history.push("/waiting-room/"+e+"/"+t.value)}).catch(function(e){return console.log(e)})},n.joinButton=function(){var e=document.getElementById("input_player_username"),t=document.getElementById("input_player_roomid");0===e.value.length?(e.placeholder="Please enter a name",0===t.value.length&&(t.placeholder="Please enter a valid room Id")):0===t.value.length?t.placeholder="Please enter a valid room Id":ge({method:"post",url:he+"rooms/"+t.value+"/get-room-check-username",data:{roomid:t.value,username:e.value}}).then(function(a){"ok"===a.data?n.props.history.push("/waiting-room/"+t.value+"/"+e.value):"username exists"===a.data?(e.placeholder="'"+e.value+"' already exists in "+t.value,e.value=""):(t.placeholder="'"+t.value+"' doesn't exist",t.value="")}).catch(function(e){return console.log(e)})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return re.a.createElement("div",{className:"Login-page-cover"},re.a.createElement("div",{className:"Login-page-title"},re.a.createElement("h2",null,"Login Room")),re.a.createElement("div",{className:"Login-page-body"},re.a.createElement("input",{type:"text",id:"input_player_username",name:"player_username",placeholder:"Name"}),re.a.createElement("input",{type:"text",id:"input_player_roomid",name:"player_roomid",placeholder:"Room ID"}),re.a.createElement("button",{className:"button-of-Login",type:"button",onClick:this.joinButton},"join"),re.a.createElement("button",{className:"button-of-Login create-new-room-button",type:"button",onClick:this.newRoomButton},"Create a Room and Go")))}}]),t}(ae.Component),be=(n(74),function(e){function t(){return Object(le.a)(this,t),Object(se.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"render",value:function(){return re.a.createElement("div",{className:"footer-container"})}}]),t}(ae.Component)),Ee=n(1),Te=n.n(Ee),Ie=(n(104),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderPlayerNames:null},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,(a=Te()(he+"main-page")).on("connect",function(){a.emit("RequestToGetPlayersAndJoinRoom",e.props.roomid)}),a.on("GetBroadCastPlayers",function(t){e._isMounted&&e.setState({renderPlayerNames:t.map(function(e){return re.a.createElement("div",{key:e,className:"player-name-holder"},re.a.createElement("p",null,e))})})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,this.state.renderPlayerNames)}}]),t}(ae.Component)),Ce=(n(105),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderCards:null,renderPressedCards:null,isCardSelected:!1,selectedCards:null,pressedCards:null,currentRoles:null},n.decreaseCardBttn=function(e,t){ye[e]-=1,(ye[e]<0||0===ye[e])&&(ye[e]=0,document.getElementById(e+"-quantity").innerText="");var a=[],r=[];for(var o in ye)ye.hasOwnProperty(o)&&ye[o]>0&&(a.push(o),r.push(ye[o]));a.forEach(function(e,t){var n=e+"-quantity";0===r[t]?document.getElementById(n).innerText="":document.getElementById(n).innerText="x"+r[t]}),n.setState({isCardSelected:!0})},n.chooseCardBttn=function(e,t){ye[e]+=1;var a=[],r=[];for(var o in ye)ye.hasOwnProperty(o)&&ye[o]>0&&(a.push(o),r.push(ye[o]));a.forEach(function(e,t){var n=e+"-quantity";document.getElementById(n).innerText="x"+r[t]}),n.setState({isCardSelected:!0})},n.submitCardsBttn=function(e){var t={roomid:n.props.roomid,currentRoles:ye},a=Te()(he+"submit-selected-cards");a.on("connect",function(){a.emit("JoinRoom",t)})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;(this._isMounted=!0,this._isMounted)&&Te()(he+"get-cards").on("GetCards",function(t){e.setState({renderCards:t.map(function(t,n){var a="card "+n,r=t.name+"-quantity";return re.a.createElement("div",{key:t.name,className:"card-item"},re.a.createElement("button",{className:"card-button",type:"button",onClick:e.chooseCardBttn.bind(e,t.name),id:a},t.name),re.a.createElement("div",{className:"card-quantity-holder"},re.a.createElement("p",{id:r})),re.a.createElement("i",{className:"fas fa-minus-square minus-sign fa-sm",onClick:e.decreaseCardBttn.bind(e,t.name)}))})});var n=Te()(he+"get-current-roles");n.on("connect",function(){n.emit("JoinRoom",e.props.roomid)}),n.on("GetSelectedCards",function(t){if(null!==t&&e._isMounted){for(var n in t)t.hasOwnProperty(n)&&(ye[n]=t[n]);var a=[],r=[];for(var o in ye)ye.hasOwnProperty(o)&&ye[o]>0&&(a.push(o),r.push(ye[o]));a.forEach(function(e,t){var n=e+"-quantity";document.getElementById(n).innerText="x"+r[t]})}})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"admin-choose-cards-and-submit-button-container",id:"display-cards-container"},re.a.createElement("div",{className:"display-cards-container"},this.state.renderCards),re.a.createElement("div",{className:"submit-card-collection-button-holder"},this.state.isCardSelected?re.a.createElement("button",{type:"button",onClick:this.submitCardsBttn.bind(this)},"submit"):null)))}}]),t}(ae.Component)),Be=(n(106),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderChosenCards:null},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&((r=Te()(he+"get-current-roles")).on("connect",function(){r.emit("JoinRoom",e.props.roomid)}),r.on("GetSelectedCards",function(t){if(null!==t){var n=[];for(var a in t)t.hasOwnProperty(a)&&t[a]>0&&n.push(a+" x"+t[a]);e.setState({renderChosenCards:n.map(function(e,t){var n="chosen-roles-"+t;return re.a.createElement("div",{key:n,className:"chosen-card-container"},re.a.createElement("p",null,e))})})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"display-chosen-cards"},this.state.renderChosenCards))}}]),t}(ae.Component)),we=(n(107),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).ChooseUserTab=function(e){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("user-tab-button").classList.add("tab-active"),document.getElementById("room-information-container").classList.remove("room-information-container-visible"),document.getElementById("display-cards-container").classList.remove("display-cards-container-invisible"),document.getElementById("room-information-container").classList.add("room-information-container-visible"),document.getElementById("display-cards-container").classList.add("display-cards-container-invisible")},n.ChooseCardCollectionTab=function(){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.add("tab-active"),document.getElementById("room-information-container").classList.remove("room-information-container-visible"),document.getElementById("display-cards-container").classList.remove("display-cards-container-invisible")},n.ChooseFinalTab=function(){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.add("tab-active")},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement("div",{className:"header-container header-container-admin",id:"header"},re.a.createElement("button",{className:"header-item-holder",onClick:this.ChooseUserTab,id:"user-tab-button"},re.a.createElement("i",{className:"fas fa-user fa-lg"})),re.a.createElement("button",{className:"header-item-holder tab-active",onClick:this.ChooseCardCollectionTab,id:"card-collection-button"},re.a.createElement("i",{className:"fas fa-boxes fa-lg"})),re.a.createElement("button",{className:"header-item-holder",onClick:this.ChooseFinalTab,id:"final-tab-button"},re.a.createElement("i",{className:"fas fa-clipboard-list fa-lg"})))}}]),t}(ae.Component)),ke=(n(108),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={admin:"",numberOfPlayers:0,ifStartGame:!1,renderDisplayCardTabWhetherPlayerIsAdmin:null,renderStartButtonIfAdmin:null},n.startGameBttn=function(e){i.emit("start",n.props.match.params.roomid),n.setState({renderStartButtonIfAdmin:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(document.getElementById("header").classList.remove("hide-header"),(o=Te()(he+"get-admin",{query:{roomid:this.props.match.params.roomid}})).on("connect",function(){o.emit("JoinRoom",e.props.match.params.roomid)}),o.on("GetAdmin",function(t){e.setState({admin:t.admin,numberOfPlayers:t.numberOfPlayers}),e.props.match.params.username===t.admin?e.setState({renderDisplayCardTabWhetherPlayerIsAdmin:re.a.createElement(Ce,{roomid:e.props.match.params.roomid,admin:e.state.admin,username:e.props.match.params.username}),renderStartButtonIfAdmin:re.a.createElement("div",{className:"start-button-container"},re.a.createElement("button",{type:"button",onClick:e.startGameBttn},"Start"))}):e.setState({renderDisplayCardTabWhetherPlayerIsAdmin:re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"display-chosen-cards-section",id:"display-cards-container"},re.a.createElement("div",{className:"title-of-chosen-cards-tab"},re.a.createElement("h4",null,"Card Collection")),re.a.createElement(Be,{roomid:e.props.match.params.roomid})))})}),(i=Te()(he+"start-game")).on("connect",function(){i.emit("JoinRoom",e.props.match.params.roomid)}),i.on("RedirectToGameRoom",function(t){"ok"===t&&e.props.history.push("/in-game-room/"+e.props.match.params.roomid+"/"+e.props.match.params.username)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,o.disconnect(),i.disconnect(),a.disconnect(),r&&r.disconnect()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(we,null),re.a.createElement("div",{className:"waiting-room-container"},re.a.createElement("div",{className:"waiting-room-title"},re.a.createElement("h2",null,"Waiting Room")),re.a.createElement("div",{className:"waiting-room-main-data-container"},this.state.renderDisplayCardTabWhetherPlayerIsAdmin,re.a.createElement("div",{className:"room-information-container",id:"room-information-container"},re.a.createElement("div",{className:"room-id-and-number-of-players-container"},re.a.createElement("p",null,"Room ID: ",this.props.match.params.roomid," "),re.a.createElement("p",null,"No. of Players: ",this.state.numberOfPlayers," "),re.a.createElement("p",null,"Admin: ",this.state.admin),re.a.createElement("p",null,"Name: ",this.props.match.params.username)),re.a.createElement("div",{className:"display-player-names-container"},re.a.createElement(Ie,{roomid:this.props.match.params.roomid})),this.state.renderStartButtonIfAdmin))))}}]),t}(ae.Component)),_e=[],Re=[],Oe=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,endTurnConfirm:null,renderScentTargetNeighbor:null,renderLovers:null,renderCharmedPlayers:null,scentTarget:null,receiveTurn:!1},n.PlayerToScent=function(e,t,a){var r=[];if(t>=1&&t<Re.length-1?(r.push(Re[t-1]),r.push(Re[t+1])):0===t?r.push(Re[t+1]):t===Re.length-1&&r.push(Re[t-1]),window.confirm("Do you want to scent "+e+"?")){var o={roomid:n.props.roomid,playersToScent:r};c.emit("RequestToScentPlayer",o),n.setState({scentTarget:e}),Re.length=0}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The bear leader"};d.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(_e.length=0,c=Te()(he+"bear"),d=Te()(he+"retrieve-next-turn"),(l=Te()(he+"in-game")).on("connect",function(){l.emit("JoinRoom",e.props.roomid)}),l.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to scent its neighbor?")),receiveTurn:!0})}),(s=Te()(he+"retrieve-next-turn")).on("connect",function(){s.emit("JoinRoom",e.props.roomid)}),s.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to scent its neighbor?")),receiveTurn:!0})}),c.on("ScentPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderScentTargetNeighbor:re.a.createElement("p",null,t?re.a.createElement(re.a.Fragment,null,"Werewolve(s) exists around ",re.a.createElement("b",null,e.state.scentTarget)):re.a.createElement(re.a.Fragment,null,"There is none of Werewolves around ",re.a.createElement("b",null,e.state.scentTarget))),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Re.length=0,_e.length=0,l.disconnect(),c.disconnect(),s.disconnect(),m.disconnect(),d.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(_e.length=0,Re.length=0,(m=Te()(he+"main-page")).on("connect",function(){m.emit("JoinRoom",n.props.roomid),m.emit("RequestToGetPlayers",n.props.roomid)}),m.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){Re.push(e);var a="bear_target_bttn_"+t;return _e.push(a),re.a.createElement("button",{key:e,id:a,type:"button",onClick:n.PlayerToScent.bind(n,e,t)},e)})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderScentTargetNeighbor,this.state.endTurnConfirm))}}]),t}(ae.Component),Le=(n(109),[]),Pe=[],Ne=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderTargetConnection:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null},n.playersToConnect=function(e,t,a,r){if(window.confirm("Do you want to choose "+e+"?")&&(Pe.push(e),document.getElementById(a).disabled=!0,document.getElementById(a).classList.remove("grayder-background"),document.getElementById(a).classList.add("grayder-background"),2===Pe.length)){var o={roomid:n.props.roomid,playersToConnect:Pe};p.emit("RequestToConnectPlayers",o),Pe.length=0}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Cupid"};h.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(p=Te()(he+"cupid"),h=Te()(he+"retrieve-next-turn"),(u=Te()(he+"in-game")).on("connect",function(){u.emit("JoinRoom",e.props.roomid)}),u.on("Retrieve1stTurn",function(t){t===e.props.username&&p.emit("RequestToGetCupidAbility",e.props.roomid)}),(y=Te()(he+"retrieve-next-turn")).on("connect",function(){y.emit("JoinRoom",e.props.roomid)}),y.on("getNextTurn",function(t){t===e.props.username&&p.emit("RequestToGetCupidAbility",e.props.roomid)}),p.on("CanUseAbility",function(t){t?(e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to connect?"))}),(v=Te()(he+"main-page")).on("connect",function(){v.emit("JoinRoom",e.props.roomid),v.emit("RequestToGetPlayers",e.props.roomid)}),v.on("GetPlayers",function(t){e.setState({renderPlayers:t.map(function(t,n){if(t!==e.props.username){var a="cupid_target_bttn_"+n;return Le.push(a),re.a.createElement("button",{key:t,id:a,type:"button",onClick:e.playersToConnect.bind(e,t,n,a)},t)}return""})})})):(document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetConnection:re.a.createElement("p",null,"You've finished your task, press End Turn."),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}))}),p.on("ConnectedPlayers",function(t){Pe=t,document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetConnection:re.a.createElement("p",null,re.a.createElement("b",null,Pe[0].player)," is now connected with ",re.a.createElement("b",null,Pe[1].player)),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Pe.length=0,u.disconnect(),p.disconnect(),y.disconnect(),v.disconnect()}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetConnection,this.state.endTurnConfirm))}}]),t}(ae.Component),je=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={renderPlayers:null},n.playerBttn=function(e,t){console.log(e)},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;Te()("http://localhost:3001/main-page",{query:{roomid:this.props.roomid}}).on("GetPlayersAt"+this.props.roomid,function(t){e.setState({renderPlayers:t.map(function(t){return t!==e.props.username?re.a.createElement("div",{key:t},re.a.createElement("button",{type:"button",onClick:e.playerBttn.bind(e,t)},t)):re.a.createElement(re.a.Fragment,null)})})})}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,this.state.renderPlayers)}}]),t}(ae.Component),Se=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),Me=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),Ue=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),xe=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),Fe=(n(110),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component)),Ae=[],De=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderTargetRole:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,receiveTurn:!1},n.playerToRevealBttn=function(e,t,a){var r={roomid:n.props.roomid,player:e};window.confirm("Do you want to view "+e+"'s card?")&&(b.emit("Request",r),Ae.forEach(function(e,t){document.getElementById(e)&&(document.getElementById(e).disabled=!0)}))},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Seer/ Fortune Teller"};E.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Ae.length=0,E=Te()(he+"retrieve-next-turn"),(f=Te()(he+"in-game")).on("connect",function(){f.emit("JoinRoom",e.props.roomid)}),f.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to reveal?")),receiveTurn:!0})}),(g=Te()(he+"retrieve-next-turn")).on("connect",function(){g.emit("JoinRoom",e.props.roomid)}),g.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to reveal?")),receiveTurn:!0})}),(b=Te()(he+"seer")).on("RevealPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:re.a.createElement("p",null,re.a.createElement("b",null,t.username),"'s role is: ",re.a.createElement("b",null,t.role)),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Ae.length=0,g.disconnect(),f.disconnect(),b.disconnect(),E.disconnect(),T.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Ae.length=0,(T=Te()(he+"main-page")).on("connect",function(){T.emit("JoinRoom",n.props.roomid),T.emit("RequestToGetPlayers",n.props.roomid)}),T.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){if(e!==n.props.username){var a="seer_target_bttn_"+t;return Ae.push(a),re.a.createElement("button",{key:e,id:a,type:"button",onClick:n.playerToRevealBttn.bind(n,e,a)},e)}return""})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetRole,this.state.endTurnConfirm))}}]),t}(ae.Component),We=(n(111),[]),Ge=[],qe=[],Je=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderTargetRole:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,receiveTurn:!1},n.playersToRevealBttn=function(e,t,a){if(window.confirm("Do you want to scent "+e+"?")){if(qe.push(e),3===qe.length){var r={roomid:n.props.roomid,players:qe};I.emit("RequestToScent",r),We.forEach(function(e,t){document.getElementById(e).disabled=!0})}document.getElementById("the_fox_target_bttn_"+e)&&(document.getElementById("the_fox_target_bttn_"+e).classList.remove("grayder-background"),document.getElementById("the_fox_target_bttn_"+e).classList.add("grayder-background"))}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The fox"};C.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(We.length=0,qe.length=0,I=Te()(he+"the-fox"),C=Te()(he+"retrieve-next-turn"),(B=Te()(he+"in-game")).on("connect",function(){B.emit("JoinRoom",e.props.roomid)}),B.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Choose 3 players to scent?")),receiveTurn:!0})}),(w=Te()(he+"retrieve-next-turn")).on("connect",function(){w.emit("JoinRoom",e.props.roomid)}),w.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Choose 3 players to scent?")),receiveTurn:!0})}),I.emit("GetCanUseAbility",this.props.roomid),I.on("CanUseAbility",function(t){t||(document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:re.a.createElement("p",null,"You lost your ability!"),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}))}),I.on("GetScentPlayers",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:re.a.createElement("p",null,"Werewolves among ",re.a.createElement("b",null,qe[0]),", ",re.a.createElement("b",null,qe[1]),", ",re.a.createElement("b",null,qe[2]),"? ",re.a.createElement("b",null,t?"YES":"NO")),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,We.length=0,qe.length=0,I.disconnect(),C.disconnect(),B.disconnect(),w.disconnect(),k.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(We.length=0,(k=Te()(he+"main-page")).on("connect",function(){k.emit("JoinRoom",n.props.roomid),k.emit("RequestToGetPlayers",n.props.roomid)}),k.on("GetPlayers",function(e){Ge=[],n.setState({renderPlayers:e.map(function(e,t){if(e!==n.props.username){Ge.push(e);var a="the_fox_target_bttn_"+e;return We.push(a),re.a.createElement("button",{key:e,id:a,type:"button",onClick:n.playersToRevealBttn.bind(n,e,t)},e)}return""})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetRole,this.state.endTurnConfirm))}}]),t}(ae.Component),Ke=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),He=(n(112),[]),Ye=[],Ve=[],$e=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,playersToCharm:[],receiveTurn:!1},n.PlayersToCharm=function(e,t,a,r){if(window.confirm("Do you want to charm "+e+"?"))if(Ye.push(e),document.getElementById(a).disabled=!0,document.getElementById(a).classList.remove("piper-choose-player-button-disable"),document.getElementById(a).classList.add("piper-choose-player-button-disable"),Ve.length>=2){if(2===Ye.length){n.setState({playersToCharm:Ye.map(function(e){return e})});var o={roomid:n.props.roomid,playersToCharm:Ye};_.emit("RequestToCharmPlayers",o),Ye.length=0}}else{n.setState({playersToCharm:Ye.map(function(e){return e})});var i={roomid:n.props.roomid,playersToCharm:Ye};_.emit("RequestToCharmPlayers",i),Ye.length=0}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The pied piper"};O.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Ye.length=0,He.length=0,Ve.length=0,_=Te()(he+"piper"),O=Te()(he+"retrieve-next-turn"),(R=Te()(he+"in-game")).on("connect",function(){R.emit("JoinRoom",e.props.roomid)}),R.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Please charm 2 people")),receiveTurn:!0})}),(L=Te()(he+"retrieve-next-turn")).on("connect",function(){L.emit("JoinRoom",e.props.roomid)}),L.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Please charm 2 people")),receiveTurn:!0})}),_.on("CharmedPlayers",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}),(P=Te()(he+"in-game")).on("connect",function(){P.emit("JoinRoom",e.props.roomid)}),P.emit("RequestToRetrieveCharmPlayers",this.props.roomid),P.on("GetListOfCharmed",function(e){e.forEach(function(e){document.getElementById("piper_target_bttn_"+e)&&(document.getElementById("piper_target_bttn_"+e).classList.remove("piper-choose-player-button-disable"),document.getElementById("piper_target_bttn_"+e).classList.add("piper-choose-player-button-disable"),document.getElementById("piper_target_bttn_"+e).disabled=!0)})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Ye.length=0,He.length=0,Ve.length=0,_.disconnect(),R.disconnect(),O.disconnect(),L.disconnect(),P.disconnect(),N.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(He.length=0,Ye.length=0,Ve.length=0,(N=Te()(he+"main-page")).on("connect",function(){N.emit("JoinRoom",n.props.roomid),N.emit("RequestToGetPlayers",n.props.roomid)}),N.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){if(e!==n.props.username){var a="piper_target_bttn_"+e;return He.push(a),Ve.push(e),re.a.createElement("button",{key:e,id:a,type:"button",onClick:n.PlayersToCharm.bind(n,e,t,a)},e)}return""})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},re.a.createElement("p",null,"Charmed ",2===this.state.playersToCharm.length?re.a.createElement(re.a.Fragment,null,re.a.createElement("b",null,this.state.playersToCharm[0])," and ",re.a.createElement("b",null,this.state.playersToCharm[1])," "):null,"successfully!"),this.state.endTurnConfirm))}}]),t}(ae.Component),ze="",Qe="",Xe=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={isDead:!1,isSilence:!1,renderPlayers:null,renderUI:null,renderSaviorAction:null,protectTarget:"",receiveTurn:!1},n.ProtectPlayer=function(e,t){if(ze=e,window.confirm("Do you want to protect "+e+"?")){var a={roomid:n.props.roomid,protectTarget:ze};S.emit("RequestToProtectPlayer",a),n.setState({protectTarget:ze})}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The savior"};U.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(S=Te()("http://localhost:3001/savior"),U=Te()("http://localhost:3001/retrieve-next-turn"),(j=Te()("http://localhost:3001/in-game")).on("connect",function(){j.emit("JoinRoom",e.props.roomid)}),j.on("Retrieve1stTurn",function(t){t===e.props.username&&(S.emit("RequestToGetLastProtectedPlayer",e.props.roomid),S.on("LastProtectedPlayer",function(t){Qe=t,e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to protect?")),receiveTurn:!0})}))}),(M=Te()("http://localhost:3001/retrieve-next-turn")).on("connect",function(){M.emit("JoinRoom",e.props.roomid)}),M.on("getNextTurn",function(t){t===e.props.username&&(S.emit("RequestToGetLastProtectedPlayer",e.props.roomid),S.on("LastProtectedPlayer",function(t){Qe=t,e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to protect?")),receiveTurn:!0})}))}),S.on("ProtectedPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t&&e.setState({renderSaviorAction:re.a.createElement("p",null,re.a.createElement("b",null,e.state.protectTarget)," is protected!"),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,j.disconnect(),S.disconnect(),M.disconnect(),U.disconnect(),x.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&((x=Te()("http://localhost:3001/main-page")).on("connect",function(){x.emit("JoinRoom",n.props.roomid),x.emit("RequestToGetPlayers",n.props.roomid)}),x.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){var a="savior_target_bttn_"+e;return e===Qe?re.a.createElement("button",{key:e,id:a,type:"button",className:"grayder-background",onClick:n.ProtectPlayer.bind(n,e),disabled:!0},e):re.a.createElement("button",{key:e,id:a,type:"button",onClick:n.ProtectPlayer.bind(n,e)},e)})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderSaviorAction,this.state.endTurnConfirm))}}]),t}(ae.Component),Ze=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),et=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),tt=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),nt=(n(113),[]),at="",rt=[],ot=[],it=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderLovers:null,endTurnConfirm:null,renderOtherChoices:null,choseTarget:null,renderCharmedPlayers:null,renderFinalTarget:null,renderOwnTarget:null,receiveTurn:!1,renderFalsePickingPhase:null,didChooseFalseRole:!1,false_role_button_id_arr:[],false_role_werewolf_id_arr:[]},n.chooseTargetBttn=function(e,t){at=e;var a={choseTarget:e,wolfName:n.props.username,roomid:n.props.roomid};F.emit("RequestMyChoice",a),n.setState({choseTarget:re.a.createElement("p",null,at)})},n.AgreeOnKill=function(e){if(window.confirm("Kill "+at+"?")){var t={choseTarget:at,roomid:n.props.roomid,werewolf:n.props.username};F.emit("RequestToAgreeKill",t),F.emit("RequestToNotifyOther",t),n.setState({renderOwnTarget:re.a.createElement("p",null,"Choice: ",re.a.createElement("strong",null,at)),renderUI:re.a.createElement("span",null,"Waiting for other players ...")}),ot.forEach(function(e){document.getElementById(e).disabled=!0})}},n.chooseFalseRole=function(e,t){if(window.confirm("choose false role: "+e+"?")){var a={falseRole:e,wolfName:n.props.username,roomid:n.props.roomid};F.emit("RequestFalseRoleChoice",a),rt.forEach(function(e){document.getElementById("false_role_bttn_"+e).disabled=!0,document.getElementById("false_role_bttn_"+e).classList.remove("grayder-background"),document.getElementById("false_role_bttn_"+e).classList.add("grayder-background")})}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Werewolves",player:n.props.username};G.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null}),n.setState({receiveTurn:!1})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(G=Te()(he+"retrieve-next-turn"),(D=Te()(he+"in-game")).on("connect",function(){D.emit("JoinRoom",e.props.roomid)}),D.on("Retrieve1stTurn",function(t){t instanceof Array&&t.every(function(t){return t!==e.props.username||(e.setState({receiveTurn:!0}),e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to kill?"),re.a.createElement("button",{className:"agree-on-kill-button",onClick:e.AgreeOnKill,id:"agree-on-kill-button"},"Agree on Kill"))}),!1)})}),(W=Te()(he+"retrieve-next-turn")).on("connect",function(){W.emit("JoinRoom",e.props.roomid)}),W.on("getNextTurn",function(t){t instanceof Array&&t.every(function(t){return t!==e.props.username||(e.setState({receiveTurn:!0}),e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Who do you want to kill?"),re.a.createElement("button",{className:"agree-on-kill-button",onClick:e.AgreeOnKill,id:"agree-on-kill-button"},"Agree on Kill"))}),!1)})}),(F=Te()(he+"werewolves")).on("connect",function(){F.emit("JoinRoom",e.props.roomid)}),F.on("ConfirmKillRespond",function(t){if("all werewolves voted"===t){var n={roomid:e.props.roomid,numberOfWerewolves:nt.length+1};F.emit("GetFalseRoles",n),F.on("FalseRoles",function(t){rt=t;var n=[];F.emit("RequestToGetOtherFalseRoles",e.props.roomid),F.on("OtherFalseRoles",function(t){n=t,e.setState({renderFalsePickingPhase:rt.map(function(t,a){var r="false_role_bttn_"+t,o="false_role_werewolf_"+t,i=re.a.createElement("button",{id:r,onClick:e.chooseFalseRole.bind(e,t)},t),l=re.a.createElement("div",{id:o,className:"in-game-render-players-container-werewolve-chosen"});return n.every(function(e){return e.falseRole!==t||(i=re.a.createElement("button",{id:r,className:"grayder-background",disabled:!0},t),l=re.a.createElement("div",{id:o,className:"in-game-render-players-container-werewolve-chosen"},e.wolfName),!1)}),re.a.createElement("div",{key:t,className:"in-game-render-players-container-werewolve"},i,l)})})})}),F.on("FalseRoleChoice",function(e){document.getElementById("false_role_bttn_"+e.falseRole).disabled=!0,document.getElementById("false_role_bttn_"+e.falseRole).classList.remove("grayder-background"),document.getElementById("false_role_bttn_"+e.falseRole).classList.add("grayder-background"),document.getElementById("false_role_werewolf_"+e.falseRole).innerText=e.wolfName}),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({endTurnConfirm:re.a.createElement("button",{className:"werewolves-end-turn-button",type:"button",onClick:e.endTurnBttn},"End turn")})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,F.disconnect(),A.disconnect(),D.disconnect(),W.disconnect(),G.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn!==t.receiveTurn&&this.state.receiveTurn&&((A=Te()(he+"main-page")).on("connect",function(){A.emit("JoinRoom",n.props.roomid),A.emit("RequestToGetPlayers",n.props.roomid)}),A.on("GetPlayers",function(e){ot.length=0,n.setState({renderPlayers:e.map(function(e,t){var a="werewolves_target_bttn_"+e,r="werewolves_icon_"+e,o="player_holder_"+e;return ot.push(a),re.a.createElement("div",{key:e,className:"in-game-render-players-container-werewolve",id:o},re.a.createElement("button",{id:a,type:"button",onClick:n.chooseTargetBttn.bind(n,e)},e),re.a.createElement("div",{id:r,className:"in-game-render-players-container-werewolve-chosen"}))})}),F.emit("RequestToGetOtherWerewolves",n.props.roomid),F.on("GetOtherWerewolves",function(e){e.forEach(function(e){if(document.getElementById("werewolves_target_bttn_"+e)){var t=document.getElementById("werewolves_target_bttn_"+e);t.innerText+=" (Wolf)",t.classList.remove("grayder-background"),t.classList.add("grayder-background"),t.disabled=!0}})}),F.on("OtherChoices",function(e){var t=!1;nt.forEach(function(n,a){n.wolfName===e.wolfName&&(n.choseTarget=e.choseTarget,t=!0)}),t||nt.push(e),nt.forEach(function(e){document.getElementById("werewolves_icon_"+e.wolfName)&&(document.getElementById("werewolves_icon_"+e.wolfName).innerText=e.choseTarget)})}),F.on("OtherNotified",function(e){document.getElementById("player_holder_"+e.werewolf).classList.remove("player-holder-grayer-background"),document.getElementById("player_holder_"+e.werewolf).classList.add("player-holder-grayer-background")}),F.on("ReceiveTheFinalTarget",function(e){n.setState({renderFinalTarget:re.a.createElement("p",null,"Killed: ",re.a.createElement("strong",null,e))})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},re.a.createElement("div",{className:"werewolves-announce-holder"},re.a.createElement("div",{className:"werewolves-annouce-words"},this.state.renderOwnTarget,this.state.renderFinalTarget),this.state.endTurnConfirm),re.a.createElement("div",{className:"werewolves-false-phase-holder"},this.state.renderFalsePickingPhase)))}}]),t}(ae.Component),lt=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement(je,{roomid:this.props.roomid,username:this.props.username}))}}]),t}(ae.Component),ct=(n(114),"http://localhost:3001/"),st="",mt=[],dt=[],ut=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderPlayers:null,renderLovers:null,renderCharmedPlayers:null,renderUI:null,endTurnConfirm:null,renderWitchAction:null,target:"",receiveTurn:!1},n.KillPlayerBttn=function(e,t){if(st=e,window.confirm("Do you want to kill "+e+"?")){var a={roomid:n.props.roomid,target_kill:e};q.emit("RequestToKillPlayer",a),n.setState({target:st})}},n.ProtectPlayerBttn=function(e,t){if(st=e,window.confirm("Do you want to save "+e+"?")){var a={roomid:n.props.roomid,target_protect:e};q.emit("RequestToProtectPlayer",a),n.setState({target:st})}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Witch"};Y.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n.UIEndTurnBttn=function(e){n.setState({renderWitchAction:re.a.createElement("p",null,"You choose to end turn.")}),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible")},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(mt.length=0,dt.length=0,q=Te()(ct+"witch"),Y=Te()(ct+"retrieve-next-turn"),(J=Te()(ct+"in-game")).on("connect",function(){J.emit("JoinRoom",e.props.roomid)}),J.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Choose your target to kill and to protect?"),re.a.createElement("button",{id:"UI-end-turn-button",className:"end-turn-witch-button",onClick:e.UIEndTurnBttn},"End turn")),receiveTurn:!0})}),(K=Te()(ct+"retrieve-next-turn")).on("connect",function(){K.emit("JoinRoom",e.props.roomid)}),K.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Choose your target to kill and to protect?"),re.a.createElement("button",{className:"end-turn-witch-button",onClick:e.endTurnBttn},"End turn")),receiveTurn:!0})}),q.on("KillPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t?e.setState({renderWitchAction:re.a.createElement("p",null,re.a.createElement("b",null,e.state.target)," Killed!"),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}):"No Kill Potion Left"===t&&e.setState({renderWitchAction:re.a.createElement("p",null,"No Kill Potion Left!"),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}),q.on("ProtectPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t?e.setState({renderWitchAction:re.a.createElement("p",null,re.a.createElement("b",null,e.state.target)," Saved!"),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}):"No Heal Potion Left"===t&&e.setState({renderWitchAction:re.a.createElement("p",null,"No Heal Potion Left!"),endTurnConfirm:re.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,mt.length=0,dt.length=0,q.disconnect(),J.disconnect(),K.disconnect(),H.disconnect(),Y.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(mt.length=0,dt.length=0,(H=Te()(ct+"main-page")).on("connect",function(){H.emit("JoinRoom",n.props.roomid),H.emit("RequestToGetPlayers",n.props.roomid)}),H.on("GetPlayers",function(e){var t=Te()(ct+"witch");t.on("connect",function(){t.emit("RequestToRetrieveLeftAbilities",n.props.roomid)}),t.on("LeftAbilities",function(t){n.setState({renderPlayers:e.map(function(e,a){var r="witch_target_bttn_"+a,o="witch_kill_bttn_"+a,i="witch_protect_bttn"+a;return mt.push(i),dt.push(o),re.a.createElement("div",{key:e},re.a.createElement("p",{id:r},e),re.a.createElement("div",null,t.useKill||e===n.props.username?null:re.a.createElement("button",{id:o,onClick:n.KillPlayerBttn.bind(n,e)},"Kill"),t.useHeal?null:re.a.createElement("button",{id:i,onClick:n.ProtectPlayerBttn.bind(n,e)},"Protect")))})})})}))}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderWitchAction,this.state.endTurnConfirm))}}]),t}(ae.Component),pt=(n(115),""),yt=function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderChosenExecutedPlayer:null,renderFinalExecutedPlayer:null,endRoundConfirm:null,timerEnds:!1},n.VotePlayer=function(){if(window.confirm("Hang "+pt+"?")){var e={chosenPlayer:pt,roomid:n.props.roomid,player:n.props.username};$.emit("RequestToHangPlayer",e),n.setState({renderChosenExecutedPlayer:re.a.createElement("p",null,"Your Choice: ",re.a.createElement("b",null,pt))}),document.getElementById("vote-hanged-button").style.display="none"}},n.ChoosePlayer=function(e,t){var a={chosenPlayer:pt=e,player:n.props.username,roomid:n.props.roomid};$.emit("BroadCastMyChoice",a)},n.EndRound=function(){var e={roomid:n.props.roomid,player:n.props.username};$.emit("RequestToEndRound",e),n.setState({endRoundConfirm:null})},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,this._isMounted){$=Te()(he+"round-end"),(z=Te()(he+"main-page")).on("connect",function(){z.emit("JoinRoom",e.props.roomid),z.emit("RequestToGetPlayers",e.props.roomid)}),z.on("GetPlayers",function(t){e.setState({renderPlayers:t.map(function(t,n){var a="round_end_target_bttn_"+t,r="round_end_"+t;return re.a.createElement("div",{key:t,className:"in-game-render-players-container-werewolve"},t===e.props.username?re.a.createElement("button",{className:"grayder-background",id:a,type:"button",onClick:e.ChoosePlayer.bind(e,t),disabled:!0},t):re.a.createElement("button",{id:a,type:"button",onClick:e.ChoosePlayer.bind(e,t)},t),re.a.createElement("div",{id:r,className:"in-game-render-players-container-werewolve-chosen"}))})})});var t=12e4-((new Date).getTime()-this.props.startTime);$.on("connect",function(){$.emit("JoinRoom",e.props.roomid)}),V=setInterval(function(){t<1?(e.setState({timerEnds:!0}),clearInterval(V)):(t-=1e3,e.setState({renderUI:re.a.createElement(re.a.Fragment,null,re.a.createElement("p",null,"Timer: ",Math.floor(t/1e3)),re.a.createElement("button",{id:"vote-hanged-button",className:"vote-hanged-button",onClick:e.VotePlayer},"Vote"))}))},1e3),$.on("GetOtherChoices",function(e){document.getElementById("round_end_"+e.player)&&(document.getElementById("round_end_"+e.player).innerText=e.chosenPlayer)}),$.on("BroadcastREDeadPlayers",function(t){if(clearInterval(V),document.getElementById("cupid-layer1")&&document.getElementById("cupid-layer2")){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible");var n="";t.forEach(function(e){return n+=e+" "}),e.setState({renderFinalExecutedPlayer:re.a.createElement("div",null,re.a.createElement("p",null,"Final Executed: ",re.a.createElement("strong",null,n))),endRoundConfirm:re.a.createElement("button",{className:"end-round-confirm-button",onClick:e.EndRound},"End Round")})}})}}},{key:"componentDidUpdate",value:function(e,t){if(this.state.renderPlayers,t.renderPlayers,this.state.timerEnds!==t.timerEnds&&this.state.timerEnds){var n={chosenPlayer:this.props.username,roomid:this.props.roomid,player:this.props.username};$.emit("RequestToHangPlayer",n)}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,$.disconnect(),z.disconnect(),clearInterval(V)}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},re.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),re.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),re.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderChosenExecutedPlayer,this.state.renderFinalExecutedPlayer,this.state.endRoundConfirm))}}]),t}(ae.Component),ht=(n(116),function(e){function t(){var e,n;Object(le.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(se.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderPlayerRole:null,timer:null,renderRoleUI:null,renderStartBttn:null,startBttnClicked:!1,isAdmin:!1,renderLovers:null,renderCharmedPlayers:null,admin:"",isDead:!1,roundEnds:!1,gameEnds:!1,sideWon:null},n.startBttn=function(){Z.emit("RequestToStartTheGame1stRound",n.props.match.params.roomid),n.setState({renderStartBttn:null})},n.CloseTheGame=function(){var e={username:n.props.match.params.username,roomid:n.props.match.params.roomid};Z.emit("RequestToCloseGame",e)},n.ChooseLeftTab=function(e){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("left-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible"),document.getElementById("left-tab").classList.add("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.add("in-game-role-tab-container-invisible-move-right")},n.ChooseMiddleTab=function(){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible")},n.ChooseRightTab=function(){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible"),document.getElementById("right-tab").classList.add("in-game-extra-info-tab-container-visible"),document.getElementById("middle-tab").classList.add("in-game-role-tab-container-invisible-move-left")},n}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&((Z=Te()(he+"in-game")).on("connect",function(){Z.emit("GetGameInfo",e.props.match.params.roomid),Z.emit("JoinRoom",e.props.match.params.roomid)}),Z.on("PlayerCloseGame",function(e){"ok"===e&&(window.location="/")}),(ee=Te()(he+"get-admin",{query:{roomid:this.props.match.params.roomid}})).on("connect",function(){ee.emit("JoinRoom",e.props.match.params.roomid)}),ee.on("GetAdmin",function(t){e.setState({admin:t.admin}),e.props.match.params.username===t.admin&&e.setState({renderStartBttn:re.a.createElement("button",{type:"button",onClick:e.startBttn},"Start the game"),isAdmin:!0})}),Z.on("RetrieveGameInfo",function(t){t.every(function(t){var n=!1;return t.special||t.player.every(function(a){return a===e.props.match.params.username?(e.setState({renderPlayerRole:t.name}),"Werewolves"===t.name?e.setState({renderRoleUI:re.a.createElement(it,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Seer/ Fortune Teller"===t.name?e.setState({renderRoleUI:re.a.createElement(De,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Hunter"===t.name?e.setState({renderRoleUI:re.a.createElement(Ue,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Cupid"===t.name?e.setState({renderRoleUI:re.a.createElement(Ne,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Witch"===t.name?e.setState({renderRoleUI:re.a.createElement(ut,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Little Girl"===t.name?e.setState({renderRoleUI:re.a.createElement(xe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Thief"===t.name?e.setState({renderRoleUI:re.a.createElement(tt,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The village Idiot"===t.name?e.setState({renderRoleUI:re.a.createElement(Fe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The ancient"===t.name?e.setState({renderRoleUI:re.a.createElement(Fe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The scapegoat"===t.name?e.setState({renderRoleUI:re.a.createElement(Ze,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The savior"===t.name?e.setState({renderRoleUI:re.a.createElement(Xe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The pied piper"===t.name?e.setState({renderRoleUI:re.a.createElement($e,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The villager villager"===t.name?e.setState({renderRoleUI:re.a.createElement(Fe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The two sisters"===t.name?e.setState({renderRoleUI:re.a.createElement(et,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The three brothers"===t.name?e.setState({renderRoleUI:re.a.createElement(et,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The knight with the rusty sword"===t.name?e.setState({renderRoleUI:re.a.createElement(Ke,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The fox"===t.name?e.setState({renderRoleUI:re.a.createElement(Je,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The bear leader"===t.name?e.setState({renderRoleUI:re.a.createElement(Oe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The devoted servant"===t.name?e.setState({renderRoleUI:re.a.createElement(Se,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The wild child"===t.name?e.setState({renderRoleUI:re.a.createElement(lt,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The dog wolf"===t.name&&e.setState({renderRoleUI:re.a.createElement(Me,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}),n=!0,!1):(e.setState({renderPlayerRole:"Ordinary Townsfolk"}),!0)}),!n})}),(te=Te()(he+"in-game")).on("connect",function(){te.emit("JoinRoom",e.props.match.params.roomid)}),te.on("RetrieveGameStart1stRound",function(t){"ok"===t&&te.emit("RequestToGet1stTurn",e.props.match.params.roomid)}),Z.on("RevealLovers",function(t){t.forEach(function(n,a){n.player===e.props.match.params.username&&(0===a?e.setState({renderLovers:re.a.createElement("p",null,"You are now in love with ",t[a+1].player," - ",t[a+1].role)}):e.setState({renderLovers:re.a.createElement("p",null,"You are now in love with ",t[a-1].player," - ",t[a-1].role)}))})}),Z.emit("RequestToRetrieveCharmPlayers",this.props.match.params.roomid),Z.on("GetListOfCharmed",function(t){t.every(function(n){return e.props.match.params.username!==n||(e.setState({renderCharmedPlayers:t.map(function(e,t){var n="charmed_"+t;return re.a.createElement("p",{key:n},e)})}),!1)})}),(ne=Te()(he+"retrieve-round-ends")).on("connect",function(){ne.emit("JoinRoom",e.props.match.params.roomid)}),ne.on("RoundEnds",function(t){t.dead instanceof Array&&t.dead.forEach(function(t,n){e.props.match.params.username===t&&e.setState({isDead:!0})}),e.setState({roundEnds:!0})}),(Q=Te()(he+"in-game")).on("connect",function(){Q.emit("JoinRoom",e.props.match.params.roomid)}),Q.on("StartNewRound",function(t){"Start new round"===t&&(e.setState({roundEnds:!1}),e.state.isAdmin&&Z.emit("RequestToStartTheGame1stRound",e.props.match.params.roomid))}),(X=Te()(he+"round-end")).on("connect",function(){X.emit("JoinRoom",e.props.match.params.roomid)}),X.on("BroadcastREDeadPlayers",function(t){t.every(function(t){return e.props.match.params.username!==t||(e.setState({isDead:!0}),!1)})}),Z.on("GameEnds",function(t){"Human won"===t?e.setState({sideWon:"Human"}):"Werewolves won"===t?e.setState({sideWon:"Werewolves"}):"Piper won"===t?e.setState({sideWon:"Piper"}):"Lovers won"===t&&e.setState({sideWon:"Piper"}),e.setState({gameEnds:!0})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Q.disconnect(),X.disconnect(),Z.disconnect(),ee.disconnect(),te.disconnect(),ne.disconnect()}},{key:"componentDidUpdate",value:function(e,t){this.state.roundEnds,t.roundEnds,this.state.isDead,t.isDead}},{key:"render",value:function(){return re.a.createElement(re.a.Fragment,null,re.a.createElement("div",{className:"in-game-header-container"},re.a.createElement("button",{className:"in-game-header-item-holder",onClick:this.ChooseLeftTab,id:"left-icon"},re.a.createElement("i",{className:"fas fa-user fa-lg"})),re.a.createElement("button",{className:"in-game-header-item-holder tab-active",onClick:this.ChooseMiddleTab,id:"middle-icon"},re.a.createElement("i",{className:"fas fa-boxes fa-lg"})),re.a.createElement("button",{className:"in-game-header-item-holder",onClick:this.ChooseRightTab,id:"right-icon"},re.a.createElement("i",{className:"fas fa-clipboard-list fa-lg"}))),re.a.createElement("div",{className:"in-game-main-container"},re.a.createElement("div",{className:"in-game-title"},re.a.createElement("h2",null,"In Game Room")),re.a.createElement("div",{className:"in-game-role-tab-container",id:"middle-tab"},re.a.createElement("div",{className:"in-game-role-tab-title"},re.a.createElement("h4",null,this.state.renderPlayerRole)),this.state.gameEnds?re.a.createElement("div",{className:"in-game-role-tab-main"},re.a.createElement("p",null,this.state.sideWon," Won!"),re.a.createElement("button",{onClick:this.CloseTheGame},"Close")):re.a.createElement(re.a.Fragment,null,this.state.roundEnds?re.a.createElement(re.a.Fragment,null,this.state.isDead?re.a.createElement("div",{className:"in-game-role-tab-main"},re.a.createElement("p",null,"You are dead")):re.a.createElement("div",{className:"in-game-role-tab-main"},re.a.createElement(yt,{roomid:this.props.match.params.roomid,username:this.props.match.params.username,startTime:(new Date).getTime()}))):re.a.createElement(re.a.Fragment,null,this.state.isDead?re.a.createElement("div",{className:"in-game-role-tab-main"},re.a.createElement("p",null,"You are dead")):re.a.createElement("div",{className:"in-game-role-tab-main"},this.state.renderRoleUI)))),re.a.createElement("div",{className:"in-game-user-tab-container",id:"left-tab"},re.a.createElement("div",{className:"in-game-room-info-container"},re.a.createElement("p",null,"Room ID: ",this.props.match.params.roomid," "),re.a.createElement("p",null,"Admin: ",this.state.admin),re.a.createElement("p",null,"Name: ",this.props.match.params.username)),re.a.createElement("div",{className:"in-game-room-history-container"}),re.a.createElement("div",{className:"in-game-role-tab-start-end-button-container"},this.state.renderStartBttn)),re.a.createElement("div",{className:"in-game-extra-info-tab-container",id:"right-tab"},re.a.createElement("div",{className:"in-game-lover-info"},this.state.renderLovers),re.a.createElement("div",{className:"in-game-charm-info"},re.a.createElement("h4",null,"List of Charmed Players"),this.state.renderCharmedPlayers))))}}]),t}(ae.Component)),vt=function(e){function t(){return Object(le.a)(this,t),Object(se.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(de.a)(t,e),Object(ce.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return re.a.createElement("div",{className:"App"},re.a.createElement(ue.a,{exact:!0,path:"/",component:pe}),re.a.createElement(ue.a,{path:"/login",component:fe}),re.a.createElement(ue.a,{exact:!0,path:"/waiting-room/:roomid/:username",component:ke}),re.a.createElement(ue.a,{exact:!0,path:"/in-game-room/:roomid/:username",component:ht}),re.a.createElement(be,null))}}]),t}(ae.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var gt=n(121);ie.a.render(re.a.createElement(gt.a,null,re.a.createElement(vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,n){e.exports=n(120)},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},74:function(e,t,n){}},[[45,1,2]]]);
//# sourceMappingURL=main.9dd18d9a.chunk.js.map