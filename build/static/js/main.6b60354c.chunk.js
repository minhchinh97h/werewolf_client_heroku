(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a,r,o,i,l,c,s,m,d,u,p,y,h,v,g,f,b,E,T,B,I,C,_,w,k,L,P,R,N,S,O,j,M,U,x,W,G,F,A,q,D,J,K,H,Y,V,$,z,Q,X,Z,ee,te,ne,ae,re,oe=n(0),ie=n.n(oe),le=n(43),ce=n.n(le),se=(n(52),n(2)),me=n(3),de=n(5),ue=n(4),pe=n(6),ye=(n(53),n(126)),he=(n(54),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).state={},n.playButton=function(){n.props.history.push("/login")},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"Welcome-page-cover"},ie.a.createElement("div",{className:"Welcome-page-title"},ie.a.createElement("h2",null,"The Werewolves of Millers Hollow"),ie.a.createElement("p",{className:"small-title-description"},"DMC's ver. 1.0.0"),ie.a.createElement("b",{className:"small-title-description"},"Source Code: "),"  ",ie.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"small-title-description",href:"https://github.com/minhchinh97h/werewolf_client"},"Client"),"  ",ie.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"small-title-description",href:"https://github.com/minhchinh97h/werewolf_server"},"Server")),ie.a.createElement("p",{target:"_blank",rel:"noopener noreferrer",href:"#",className:"instruction-button"},"How to play:",ie.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://medium.com/@minhchinhduong97/how-to-play-werewolves-online-and-rules-3227524a0fcf"},"EN"),ie.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/minhchinh97h/werewolves_online_how_to_VN/blob/master/README.md"},"VN")),ie.a.createElement("div",{className:"Welcome-page-button"},ie.a.createElement("button",{onClick:this.playButton},"Play")),ie.a.createElement("div",{className:"welcome-bottom-link"}))}}]),t}(oe.Component)),ve={Werewolves:0,"Ordinary Townsfolk":0,"Seer/ Fortune Teller":0,Cupid:0,Witch:0,"The savior":0,"The pied piper":0,"The fox":0,"The bear leader":0},ge="http://159.89.111.33:3001/",fe=(n(55),n(56)),be=n(57),Ee=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).state={},n.newRoomButton=function(){var e=fe(),t=document.getElementById("input_player_username");0===t.value.length?t.placeholder="Please enter a name":be({method:"post",url:ge+"rooms/"+e+"/create-player-and-room",data:{roomid:e,username:t.value.trim(),currentRoles:ve}}).then(function(a){"ok"===a.data&&n.props.history.push("/waiting-room/"+e+"/"+t.value.trim())}).catch(function(e){return console.log(e)})},n.joinButton=function(){var e=document.getElementById("input_player_username"),t=document.getElementById("input_player_roomid");0===e.value.length?(e.placeholder="Please enter a name",0===t.value.length&&(t.placeholder="Please enter a valid room Id")):0===t.value.length?t.placeholder="Please enter a valid room Id":be({method:"post",url:ge+"rooms/"+t.value.trim()+"/get-room-check-username",data:{roomid:t.value.trim(),username:e.value.trim()}}).then(function(a){"ok"===a.data?n.props.history.push("/waiting-room/"+t.value.trim()+"/"+e.value.trim()):"username exists"===a.data?(e.placeholder="'"+e.value.trim()+"' already exists in "+t.value.trim(),e.value=""):(t.placeholder="'"+t.value.trim()+"' doesn't exist",t.value="")}).catch(function(e){return console.log(e)})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"Login-page-cover"},ie.a.createElement("div",{className:"Login-page-title"},ie.a.createElement("h2",null,"Login Room")),ie.a.createElement("div",{className:"Login-page-body"},ie.a.createElement("input",{type:"text",id:"input_player_username",name:"player_username",placeholder:"Name"}),ie.a.createElement("input",{type:"text",id:"input_player_roomid",name:"player_roomid",placeholder:"Room ID"}),ie.a.createElement("button",{className:"button-of-Login",type:"button",onClick:this.joinButton},"Join"),ie.a.createElement("button",{className:"button-of-Login create-new-room-button",type:"button",onClick:this.newRoomButton},"Create a Room")))}}]),t}(oe.Component),Te=(n(76),function(e){function t(){return Object(se.a)(this,t),Object(de.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return ie.a.createElement("div",{className:"footer-container"})}}]),t}(oe.Component)),Be=n(1),Ie=n.n(Be),Ce=(n(106),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderPlayerNames:null},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,(a=Ie()(ge+"main-page")).on("connect",function(){a.emit("RequestToGetPlayersAndJoinRoom",e.props.roomid)}),a.on("GetBroadCastPlayers",function(t){e._isMounted&&e.setState({renderPlayerNames:t.map(function(e){return ie.a.createElement("div",{key:e,className:"player-name-holder"},ie.a.createElement("p",null,e))})})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,this.state.renderPlayerNames)}}]),t}(oe.Component)),_e=(n(107),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderCards:null,renderPressedCards:null,isCardSelected:!1,selectedCards:null,pressedCards:null,currentRoles:null},n.decreaseCardBttn=function(e,t){ve[e]-=1,(ve[e]<0||0===ve[e])&&(ve[e]=0,document.getElementById(e+"-quantity").innerText="");var a=[],r=[];for(var o in ve)ve.hasOwnProperty(o)&&ve[o]>0&&(a.push(o),r.push(ve[o]));a.forEach(function(e,t){var n=e+"-quantity";0===r[t]?document.getElementById(n).innerText="":document.getElementById(n).innerText="x"+r[t]}),n.setState({isCardSelected:!0})},n.chooseCardBttn=function(e,t){ve[e]+=1,"Ordinary Townsfolk"!==e&&ve[e]>1&&(ve[e]=1);var a=[],r=[];for(var o in ve)ve.hasOwnProperty(o)&&ve[o]>0&&(a.push(o),r.push(ve[o]));a.forEach(function(e,t){var n=e+"-quantity";document.getElementById(n).innerText="x"+r[t]}),n.setState({isCardSelected:!0})},n.submitCardsBttn=function(e){var t={roomid:n.props.roomid,currentRoles:ve},a=Ie()(ge+"submit-selected-cards");a.on("connect",function(){a.emit("JoinRoom",t)})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;(this._isMounted=!0,this._isMounted)&&Ie()(ge+"get-cards").on("GetCards",function(t){e.setState({renderCards:t.map(function(t,n){var a="card "+n,r=t.name+"-quantity";return ie.a.createElement("div",{key:t.name,className:"card-item"},ie.a.createElement("button",{className:"card-button",type:"button",onClick:e.chooseCardBttn.bind(e,t.name),id:a},t.name),ie.a.createElement("div",{className:"card-quantity-holder"},ie.a.createElement("p",{id:r})),ie.a.createElement("i",{className:"fas fa-minus-square minus-sign fa-sm",onClick:e.decreaseCardBttn.bind(e,t.name)}))})});var n=Ie()(ge+"get-current-roles");n.on("connect",function(){n.emit("JoinRoom",e.props.roomid)}),n.on("GetSelectedCards",function(t){if(null!==t&&e._isMounted){for(var n in t)t.hasOwnProperty(n)&&(ve[n]=t[n]);var a=[],r=[];for(var o in ve)ve.hasOwnProperty(o)&&ve[o]>0&&(a.push(o),r.push(ve[o]));a.forEach(function(e,t){var n=e+"-quantity";document.getElementById(n).innerText="x"+r[t]})}})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"admin-choose-cards-and-submit-button-container",id:"display-cards-container"},ie.a.createElement("div",{className:"display-cards-container"},this.state.renderCards),ie.a.createElement("div",{className:"submit-card-collection-button-holder"},this.state.isCardSelected?ie.a.createElement("button",{type:"button",onClick:this.submitCardsBttn.bind(this)},"submit"):null)))}}]),t}(oe.Component)),we=(n(108),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderChosenCards:null},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&((r=Ie()(ge+"get-current-roles")).on("connect",function(){r.emit("JoinRoom",e.props.roomid)}),r.on("GetSelectedCards",function(t){if(null!==t){var n=[];for(var a in t)t.hasOwnProperty(a)&&t[a]>0&&n.push(a+" x"+t[a]);e.setState({renderChosenCards:n.map(function(e,t){var n="chosen-roles-"+t;return ie.a.createElement("div",{key:n,className:"chosen-card-container"},ie.a.createElement("p",null,e))})})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"display-chosen-cards"},this.state.renderChosenCards))}}]),t}(oe.Component)),ke=(n(109),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).ChooseUserTab=function(e){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("user-tab-button").classList.add("tab-active"),document.getElementById("room-information-container").classList.remove("room-information-container-visible"),document.getElementById("display-cards-container").classList.remove("display-cards-container-invisible"),document.getElementById("room-information-container").classList.add("room-information-container-visible"),document.getElementById("display-cards-container").classList.add("display-cards-container-invisible")},n.ChooseCardCollectionTab=function(){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.add("tab-active"),document.getElementById("room-information-container").classList.remove("room-information-container-visible"),document.getElementById("display-cards-container").classList.remove("display-cards-container-invisible")},n.ChooseFinalTab=function(){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.add("tab-active")},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"header-container header-container-admin",id:"header"},ie.a.createElement("button",{className:"header-item-holder",onClick:this.ChooseUserTab,id:"user-tab-button"},ie.a.createElement("i",{className:"fas fa-user fa-lg"})),ie.a.createElement("button",{className:"header-item-holder tab-active",onClick:this.ChooseCardCollectionTab,id:"card-collection-button"},ie.a.createElement("i",{className:"fas fa-boxes fa-lg"})),ie.a.createElement("button",{className:"header-item-holder",onClick:this.ChooseFinalTab,id:"final-tab-button"},ie.a.createElement("i",{className:"fas fa-clipboard-list fa-lg"})))}}]),t}(oe.Component)),Le=(n(110),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={admin:"",numberOfPlayers:0,ifStartGame:!1,renderDisplayCardTabWhetherPlayerIsAdmin:null,renderStartButtonIfAdmin:null},n.startGameBttn=function(e){i.emit("start",n.props.match.params.roomid),n.setState({renderStartButtonIfAdmin:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(document.getElementById("header").classList.remove("hide-header"),(o=Ie()(ge+"get-admin",{query:{roomid:this.props.match.params.roomid}})).on("connect",function(){o.emit("JoinRoom",e.props.match.params.roomid)}),o.on("GetAdmin",function(t){e.setState({admin:t.admin,numberOfPlayers:t.numberOfPlayers}),e.props.match.params.username===t.admin?e.setState({renderDisplayCardTabWhetherPlayerIsAdmin:ie.a.createElement(_e,{roomid:e.props.match.params.roomid,admin:e.state.admin,username:e.props.match.params.username}),renderStartButtonIfAdmin:ie.a.createElement("div",{className:"start-button-container"},ie.a.createElement("button",{type:"button",onClick:e.startGameBttn},"Start"))}):e.setState({renderDisplayCardTabWhetherPlayerIsAdmin:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"display-chosen-cards-section",id:"display-cards-container"},ie.a.createElement("div",{className:"title-of-chosen-cards-tab"},ie.a.createElement("h4",null,"Card Collection")),ie.a.createElement(we,{roomid:e.props.match.params.roomid})))})}),(i=Ie()(ge+"start-game")).on("connect",function(){i.emit("JoinRoom",e.props.match.params.roomid)}),i.on("RedirectToGameRoom",function(t){"ok"===t&&e.props.history.push("/in-game-room/"+e.props.match.params.roomid+"/"+e.props.match.params.username)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,o.disconnect(),i.disconnect(),a.disconnect(),r&&r.disconnect()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement(ke,null),ie.a.createElement("div",{className:"waiting-room-container"},ie.a.createElement("div",{className:"waiting-room-title"},ie.a.createElement("h2",null,"Waiting Room")),ie.a.createElement("div",{className:"waiting-room-main-data-container"},this.state.renderDisplayCardTabWhetherPlayerIsAdmin,ie.a.createElement("div",{className:"room-information-container",id:"room-information-container"},ie.a.createElement("div",{className:"room-id-and-number-of-players-container"},ie.a.createElement("p",null,"Room ID: ",this.props.match.params.roomid," "),ie.a.createElement("p",null,"Admin: ",this.state.admin),ie.a.createElement("p",null,"Name: ",this.props.match.params.username)),ie.a.createElement("div",{className:"display-player-names-container"},ie.a.createElement(Ce,{roomid:this.props.match.params.roomid})),this.state.renderStartButtonIfAdmin))))}}]),t}(oe.Component)),Pe=[],Re=[],Ne=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,endTurnConfirm:null,renderScentTargetNeighbor:null,renderLovers:null,renderCharmedPlayers:null,scentTarget:null,receiveTurn:!1},n.PlayerToScent=function(e,t,a){var r=[];if(t>=1&&t<Re.length-1?(r.push(Re[t-1]),r.push(Re[t+1])):0===t?r.push(Re[t+1]):t===Re.length-1&&r.push(Re[t-1]),window.confirm("Do you want to scent "+e+"?")){var o={roomid:n.props.roomid,playersToScent:r};c.emit("RequestToScentPlayer",o),n.setState({scentTarget:e}),Re.length=0}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The bear leader"};d.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Pe.length=0,c=Ie()(ge+"bear"),d=Ie()(ge+"retrieve-next-turn"),(l=Ie()(ge+"in-game")).on("connect",function(){l.emit("JoinRoom",e.props.roomid)}),l.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to scent its neighbor?")),receiveTurn:!0})}),(s=Ie()(ge+"retrieve-next-turn")).on("connect",function(){s.emit("JoinRoom",e.props.roomid)}),s.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to scent its neighbor?")),receiveTurn:!0})}),c.on("ScentPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderScentTargetNeighbor:ie.a.createElement("p",null,t?ie.a.createElement(ie.a.Fragment,null,"Werewolve(s) exists around ",ie.a.createElement("b",null,e.state.scentTarget)):ie.a.createElement(ie.a.Fragment,null,"There is none of Werewolves around ",ie.a.createElement("b",null,e.state.scentTarget))),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Re.length=0,Pe.length=0,l.disconnect(),c.disconnect(),s.disconnect(),m.disconnect(),d.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Pe.length=0,Re.length=0,(m=Ie()(ge+"main-page")).on("connect",function(){m.emit("JoinRoom",n.props.roomid),m.emit("RequestToGetPlayers",n.props.roomid)}),m.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){Re.push(e);var a="bear_target_bttn_"+t;return Pe.push(a),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.PlayerToScent.bind(n,e,t)},e)})})}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderScentTargetNeighbor,this.state.endTurnConfirm))}}]),t}(oe.Component),Se=(n(111),[]),Oe=[],je=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderTargetConnection:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null},n.playersToConnect=function(e,t,a,r){if(window.confirm("Do you want to choose "+e+"?")&&(Oe.push(e),document.getElementById(a).disabled=!0,document.getElementById(a).classList.remove("grayder-background"),document.getElementById(a).classList.add("grayder-background"),2===Oe.length)){var o={roomid:n.props.roomid,playersToConnect:Oe};p.emit("RequestToConnectPlayers",o),Oe.length=0}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Cupid"};h.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(p=Ie()(ge+"cupid"),h=Ie()(ge+"retrieve-next-turn"),(u=Ie()(ge+"in-game")).on("connect",function(){u.emit("JoinRoom",e.props.roomid)}),u.on("Retrieve1stTurn",function(t){t===e.props.username&&p.emit("RequestToGetCupidAbility",e.props.roomid)}),(y=Ie()(ge+"retrieve-next-turn")).on("connect",function(){y.emit("JoinRoom",e.props.roomid)}),y.on("getNextTurn",function(t){t===e.props.username&&p.emit("RequestToGetCupidAbility",e.props.roomid)}),p.on("CanUseAbility",function(t){t?(e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to connect?"))}),(v=Ie()(ge+"main-page")).on("connect",function(){v.emit("JoinRoom",e.props.roomid),v.emit("RequestToGetPlayers",e.props.roomid)}),v.on("GetPlayers",function(t){e.setState({renderPlayers:t.map(function(t,n){if(t!==e.props.username){var a="cupid_target_bttn_"+n;return Se.push(a),ie.a.createElement("button",{key:t,id:a,type:"button",onClick:e.playersToConnect.bind(e,t,n,a)},t)}return""})})})):(document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetConnection:ie.a.createElement("p",null,"You've finished your task, press End Turn."),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}))}),p.on("ConnectedPlayers",function(t){Oe=t,document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetConnection:ie.a.createElement("p",null,ie.a.createElement("b",null,Oe[0].player)," is now connected with ",ie.a.createElement("b",null,Oe[1].player)),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Oe.length=0,u.disconnect(),p.disconnect(),y.disconnect(),v.disconnect()}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetConnection,this.state.endTurnConfirm))}}]),t}(oe.Component),Me=[],Ue=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderTargetRole:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,receiveTurn:!1},n.playerToRevealBttn=function(e,t,a){var r={roomid:n.props.roomid,player:e};window.confirm("Do you want to view "+e+"'s card?")&&(b.emit("Request",r),Me.forEach(function(e,t){document.getElementById(e)&&(document.getElementById(e).disabled=!0)}))},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Seer/ Fortune Teller"};E.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Me.length=0,E=Ie()(ge+"retrieve-next-turn"),(f=Ie()(ge+"in-game")).on("connect",function(){f.emit("JoinRoom",e.props.roomid)}),f.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to reveal?")),receiveTurn:!0})}),(g=Ie()(ge+"retrieve-next-turn")).on("connect",function(){g.emit("JoinRoom",e.props.roomid)}),g.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to reveal?")),receiveTurn:!0})}),(b=Ie()(ge+"seer")).on("RevealPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:ie.a.createElement("p",null,ie.a.createElement("b",null,t.username),"'s role is: ",ie.a.createElement("b",null,t.role)),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Me.length=0,g.disconnect(),f.disconnect(),b.disconnect(),E.disconnect(),T.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Me.length=0,(T=Ie()(ge+"main-page")).on("connect",function(){T.emit("JoinRoom",n.props.roomid),T.emit("RequestToGetPlayers",n.props.roomid)}),T.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){if(e!==n.props.username){var a="seer_target_bttn_"+t;return Me.push(a),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.playerToRevealBttn.bind(n,e,a)},e)}return""})})}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetRole,this.state.endTurnConfirm))}}]),t}(oe.Component),xe=(n(112),[]),We=[],Ge=[],Fe=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderTargetRole:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,receiveTurn:!1},n.playersToRevealBttn=function(e,t,a){if(window.confirm("Do you want to scent "+e+"?")){if(Ge.push(e),3===Ge.length){var r={roomid:n.props.roomid,players:Ge};B.emit("RequestToScent",r),xe.forEach(function(e,t){document.getElementById(e).disabled=!0})}document.getElementById("the_fox_target_bttn_"+e)&&(document.getElementById("the_fox_target_bttn_"+e).classList.remove("grayder-background"),document.getElementById("the_fox_target_bttn_"+e).classList.add("grayder-background"))}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The fox"};I.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(xe.length=0,Ge.length=0,B=Ie()(ge+"the-fox"),I=Ie()(ge+"retrieve-next-turn"),(C=Ie()(ge+"in-game")).on("connect",function(){C.emit("JoinRoom",e.props.roomid)}),C.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose 3 players to scent?")),receiveTurn:!0})}),(_=Ie()(ge+"retrieve-next-turn")).on("connect",function(){_.emit("JoinRoom",e.props.roomid)}),_.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose 3 players to scent?")),receiveTurn:!0})}),B.emit("GetCanUseAbility",this.props.roomid),B.on("CanUseAbility",function(t){t||(document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:ie.a.createElement("p",null,"You lost your ability!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}))}),B.on("GetScentPlayers",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:ie.a.createElement("p",null,"Werewolves among ",ie.a.createElement("b",null,Ge[0]),", ",ie.a.createElement("b",null,Ge[1]),", ",ie.a.createElement("b",null,Ge[2]),"? ",ie.a.createElement("b",null,t?"YES":"NO")),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,xe.length=0,Ge.length=0,B.disconnect(),I.disconnect(),C.disconnect(),_.disconnect(),w.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(xe.length=0,(w=Ie()(ge+"main-page")).on("connect",function(){w.emit("JoinRoom",n.props.roomid),w.emit("RequestToGetPlayers",n.props.roomid)}),w.on("GetPlayers",function(e){We=[],n.setState({renderPlayers:e.map(function(e,t){if(e!==n.props.username){We.push(e);var a="the_fox_target_bttn_"+e;return xe.push(a),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.playersToRevealBttn.bind(n,e,t)},e)}return""})})}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetRole,this.state.endTurnConfirm))}}]),t}(oe.Component),Ae=(n(113),[]),qe=[],De=[],Je=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,playersToCharm:[],receiveTurn:!1},n.PlayersToCharm=function(e,t,a,r){if(window.confirm("Do you want to charm "+e+"?"))if(qe.push(e),document.getElementById(a).disabled=!0,document.getElementById(a).classList.remove("piper-choose-player-button-disable"),document.getElementById(a).classList.add("piper-choose-player-button-disable"),De.length>=2){if(2===qe.length){n.setState({playersToCharm:qe.map(function(e){return e})});var o={roomid:n.props.roomid,playersToCharm:qe};k.emit("RequestToCharmPlayers",o),qe.length=0}}else{n.setState({playersToCharm:qe.map(function(e){return e})});var i={roomid:n.props.roomid,playersToCharm:qe};k.emit("RequestToCharmPlayers",i),qe.length=0}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The pied piper"};P.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(qe.length=0,Ae.length=0,De.length=0,k=Ie()(ge+"piper"),P=Ie()(ge+"retrieve-next-turn"),(L=Ie()(ge+"in-game")).on("connect",function(){L.emit("JoinRoom",e.props.roomid)}),L.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Please charm 2 people")),receiveTurn:!0})}),(R=Ie()(ge+"retrieve-next-turn")).on("connect",function(){R.emit("JoinRoom",e.props.roomid)}),R.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Please charm 2 people")),receiveTurn:!0})}),k.on("CharmedPlayers",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}),(N=Ie()(ge+"in-game")).on("connect",function(){N.emit("JoinRoom",e.props.roomid)}),N.emit("RequestToRetrieveCharmPlayers",this.props.roomid),N.on("GetListOfCharmed",function(e){e.forEach(function(e){document.getElementById("piper_target_bttn_"+e)&&(document.getElementById("piper_target_bttn_"+e).classList.remove("piper-choose-player-button-disable"),document.getElementById("piper_target_bttn_"+e).classList.add("piper-choose-player-button-disable"),document.getElementById("piper_target_bttn_"+e).disabled=!0)})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,qe.length=0,Ae.length=0,De.length=0,k.disconnect(),L.disconnect(),P.disconnect(),R.disconnect(),N.disconnect(),S.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Ae.length=0,qe.length=0,De.length=0,(S=Ie()(ge+"main-page")).on("connect",function(){S.emit("JoinRoom",n.props.roomid),S.emit("RequestToGetPlayers",n.props.roomid)}),S.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){if(e!==n.props.username){var a="piper_target_bttn_"+e;return Ae.push(a),De.push(e),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.PlayersToCharm.bind(n,e,t,a)},e)}return""})})}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},ie.a.createElement("p",null,"Charmed ",2===this.state.playersToCharm.length?ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("b",null,this.state.playersToCharm[0])," and ",ie.a.createElement("b",null,this.state.playersToCharm[1])," "):null,"successfully!"),this.state.endTurnConfirm))}}]),t}(oe.Component),Ke="",He="",Ye=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={isDead:!1,isSilence:!1,renderPlayers:null,renderUI:null,renderSaviorAction:null,protectTarget:"",receiveTurn:!1},n.ProtectPlayer=function(e,t){if(Ke=e,window.confirm("Do you want to protect "+e+"?")){var a={roomid:n.props.roomid,protectTarget:Ke};j.emit("RequestToProtectPlayer",a),n.setState({protectTarget:Ke})}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"The savior"};U.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(j=Ie()(ge+"savior"),U=Ie()(ge+"retrieve-next-turn"),(O=Ie()(ge+"in-game")).on("connect",function(){O.emit("JoinRoom",e.props.roomid)}),O.on("Retrieve1stTurn",function(t){t===e.props.username&&(j.emit("RequestToGetLastProtectedPlayer",e.props.roomid),j.on("LastProtectedPlayer",function(t){He=t,e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to protect?")),receiveTurn:!0})}))}),(M=Ie()(ge+"retrieve-next-turn")).on("connect",function(){M.emit("JoinRoom",e.props.roomid)}),M.on("getNextTurn",function(t){t===e.props.username&&(j.emit("RequestToGetLastProtectedPlayer",e.props.roomid),j.on("LastProtectedPlayer",function(t){He=t,e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to protect?")),receiveTurn:!0})}))}),j.on("ProtectedPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t&&e.setState({renderSaviorAction:ie.a.createElement("p",null,ie.a.createElement("b",null,e.state.protectTarget)," is protected!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,O.disconnect(),j.disconnect(),M.disconnect(),U.disconnect(),x.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&((x=Ie()(ge+"main-page")).on("connect",function(){x.emit("JoinRoom",n.props.roomid),x.emit("RequestToGetPlayers",n.props.roomid)}),x.on("GetPlayers",function(e){n.setState({renderPlayers:e.map(function(e,t){var a="savior_target_bttn_"+e;return e===He?ie.a.createElement("button",{key:e,id:a,type:"button",className:"grayder-background",onClick:n.ProtectPlayer.bind(n,e),disabled:!0},e):ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.ProtectPlayer.bind(n,e)},e)})})}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderSaviorAction,this.state.endTurnConfirm))}}]),t}(oe.Component),Ve=(n(114),[]),$e="",ze=[],Qe=[],Xe=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderLovers:null,endTurnConfirm:null,renderOtherChoices:null,choseTarget:null,renderCharmedPlayers:null,renderFinalTarget:null,renderOwnTarget:null,receiveTurn:!1,renderFalsePickingPhase:null,didChooseFalseRole:!1,false_role_button_id_arr:[],false_role_werewolf_id_arr:[]},n.chooseTargetBttn=function(e,t){$e=e;var a={choseTarget:e,wolfName:n.props.username,roomid:n.props.roomid};W.emit("RequestMyChoice",a),n.setState({choseTarget:ie.a.createElement("p",null,$e)})},n.AgreeOnKill=function(e){if(window.confirm("Kill "+$e+"?")){var t={choseTarget:$e,roomid:n.props.roomid,werewolf:n.props.username};W.emit("RequestToAgreeKill",t),W.emit("RequestToNotifyOther",t),n.setState({renderUI:ie.a.createElement("span",null,"Waiting for other players ...")}),Qe.forEach(function(e){document.getElementById(e).disabled=!0})}},n.chooseFalseRole=function(e,t){if(window.confirm("choose false role: "+e+"?")){var a={falseRole:e,wolfName:n.props.username,roomid:n.props.roomid};W.emit("RequestFalseRoleChoice",a),ze.forEach(function(e){document.getElementById("false_role_bttn_"+e).disabled=!0,document.getElementById("false_role_bttn_"+e).classList.remove("grayder-background"),document.getElementById("false_role_bttn_"+e).classList.add("grayder-background")})}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Werewolves",player:n.props.username};q.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null}),n.setState({receiveTurn:!1})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(q=Ie()(ge+"retrieve-next-turn"),(F=Ie()(ge+"in-game")).on("connect",function(){F.emit("JoinRoom",e.props.roomid)}),F.on("Retrieve1stTurn",function(t){t instanceof Array&&t.every(function(t){return t!==e.props.username||(e.setState({receiveTurn:!0}),e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to kill?"),ie.a.createElement("button",{className:"agree-on-kill-button",onClick:e.AgreeOnKill,id:"agree-on-kill-button"},"Agree on Kill"))}),!1)})}),(A=Ie()(ge+"retrieve-next-turn")).on("connect",function(){A.emit("JoinRoom",e.props.roomid)}),A.on("getNextTurn",function(t){t instanceof Array&&t.every(function(t){return t!==e.props.username||(e.setState({receiveTurn:!0}),e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to kill?"),ie.a.createElement("button",{className:"agree-on-kill-button",onClick:e.AgreeOnKill,id:"agree-on-kill-button"},"Agree on Kill"))}),!1)})}),(W=Ie()(ge+"werewolves")).on("connect",function(){W.emit("JoinRoom",e.props.roomid)}),W.on("ConfirmKillRespond",function(t){if("all werewolves voted"===t){var n={roomid:e.props.roomid,numberOfWerewolves:Ve.length+1};W.emit("GetFalseRoles",n),W.on("FalseRoles",function(t){ze=t;var n=[];W.emit("RequestToGetOtherFalseRoles",e.props.roomid),W.on("OtherFalseRoles",function(t){n=t,e.setState({renderFalsePickingPhase:ze.map(function(t,a){var r="false_role_bttn_"+t,o="false_role_werewolf_"+t,i=ie.a.createElement("button",{id:r,onClick:e.chooseFalseRole.bind(e,t)},t),l=ie.a.createElement("div",{id:o,className:"in-game-render-players-container-werewolve-chosen"});return n.every(function(e){return e.falseRole!==t||(i=ie.a.createElement("button",{id:r,className:"grayder-background",disabled:!0},t),l=ie.a.createElement("div",{id:o,className:"in-game-render-players-container-werewolve-chosen"},e.wolfName),!1)}),ie.a.createElement("div",{key:t,className:"in-game-render-players-container-werewolve"},i,l)})})})}),W.on("FalseRoleChoice",function(e){document.getElementById("false_role_bttn_"+e.falseRole).disabled=!0,document.getElementById("false_role_bttn_"+e.falseRole).classList.remove("grayder-background"),document.getElementById("false_role_bttn_"+e.falseRole).classList.add("grayder-background"),document.getElementById("false_role_werewolf_"+e.falseRole).innerText=e.wolfName}),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({endTurnConfirm:ie.a.createElement("button",{className:"werewolves-end-turn-button",type:"button",onClick:e.endTurnBttn},"End turn")})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,W.disconnect(),G.disconnect(),F.disconnect(),A.disconnect(),q.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn!==t.receiveTurn&&this.state.receiveTurn&&((G=Ie()(ge+"main-page")).on("connect",function(){G.emit("JoinRoom",n.props.roomid),G.emit("RequestToGetPlayers",n.props.roomid)}),G.on("GetPlayers",function(e){Qe.length=0,n.setState({renderPlayers:e.map(function(e,t){var a="werewolves_target_bttn_"+e,r="werewolves_icon_"+e,o="player_holder_"+e;return Qe.push(a),ie.a.createElement("div",{key:e,className:"in-game-render-players-container-werewolve",id:o},ie.a.createElement("button",{id:a,type:"button",onClick:n.chooseTargetBttn.bind(n,e)},e),ie.a.createElement("div",{id:r,className:"in-game-render-players-container-werewolve-chosen"}))})}),W.emit("RequestToGetOtherWerewolves",n.props.roomid),W.on("GetOtherWerewolves",function(e){e.forEach(function(e){if(document.getElementById("werewolves_target_bttn_"+e)){var t=document.getElementById("werewolves_target_bttn_"+e);t.innerText+=" (Wolf)",t.classList.remove("grayder-background"),t.classList.add("grayder-background"),t.disabled=!0}})}),W.on("OtherChoices",function(e){var t=!1;Ve.length=0,Ve.forEach(function(n,a){n.wolfName===e.wolfName&&(n.choseTarget=e.choseTarget,t=!0)}),t||Ve.push(e),Ve.forEach(function(e){document.getElementById("werewolves_icon_"+e.wolfName)&&(document.getElementById("werewolves_icon_"+e.wolfName).innerText=e.choseTarget)})}),W.on("OtherNotified",function(e){document.getElementById("player_holder_"+e.werewolf).classList.remove("player-holder-grayer-background"),document.getElementById("player_holder_"+e.werewolf).classList.add("player-holder-grayer-background")}),W.on("ReceiveTheFinalTarget",function(e){n.setState({renderFinalTarget:ie.a.createElement("p",null,"Killed: ",ie.a.createElement("strong",null,e))})})})),null!==this.state.renderPlayers&&this.state.renderPlayers!==t.renderPlayers&&(W.emit("RequestToGetOtherChoices",this.props.roomid),W.on("GetOtherChoices",function(e){for(var t in e)e.hasOwnProperty(t)&&document.getElementById("werewolves_icon_"+t)&&e[t].length>0&&(document.getElementById("werewolves_icon_"+t).innerText=e[t])}),W.emit("RequestToGetOtherKillDecisions",this.props.roomid),W.on("OtherKillDecisions",function(e){for(var t in e)e.hasOwnProperty(t)&&document.getElementById("player_holder_"+t)&&e[t].length>0&&(document.getElementById("player_holder_"+t).classList.remove("player-holder-grayer-background"),document.getElementById("player_holder_"+t).classList.add("player-holder-grayer-background"))}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},ie.a.createElement("div",{className:"werewolves-announce-holder"},ie.a.createElement("div",{className:"werewolves-annouce-words"},this.state.renderFinalTarget),this.state.endTurnConfirm),ie.a.createElement("div",{className:"werewolves-false-phase-holder"},this.state.renderFalsePickingPhase)))}}]),t}(oe.Component),Ze=(n(115),""),et=[],tt=[],nt=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderPlayers:null,renderLovers:null,renderCharmedPlayers:null,renderUI:null,endTurnConfirm:null,renderWitchAction:null,target:"",receiveTurn:!1},n.KillPlayerBttn=function(e,t){if(Ze=e,window.confirm("Do you want to kill "+e+"?")){var a={roomid:n.props.roomid,target_kill:e};D.emit("RequestToKillPlayer",a),n.setState({target:Ze})}},n.ProtectPlayerBttn=function(e,t){if(Ze=e,window.confirm("Do you want to save "+e+"?")){var a={roomid:n.props.roomid,target_protect:e};D.emit("RequestToProtectPlayer",a),n.setState({target:Ze})}},n.endTurnBttn=function(){var e={roomid:n.props.roomid,role:"Witch"};Y.emit("RequestToGetNextTurn",e),n.setState({endTurnConfirm:null})},n.UIEndTurnBttn=function(e){var t={roomid:n.props.roomid,role:"Witch"};Y.emit("RequestToGetNextTurn",t),n.setState({renderWitchAction:ie.a.createElement("p",null,"You chose to end turn.")}),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible")},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(et.length=0,tt.length=0,D=Ie()(ge+"witch"),Y=Ie()(ge+"retrieve-next-turn"),(J=Ie()(ge+"in-game")).on("connect",function(){J.emit("JoinRoom",e.props.roomid)}),J.on("Retrieve1stTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose your target to kill and to protect?"),ie.a.createElement("button",{id:"UI-end-turn-button",className:"end-turn-witch-button",onClick:e.UIEndTurnBttn},"End turn")),receiveTurn:!0})}),(K=Ie()(ge+"retrieve-next-turn")).on("connect",function(){K.emit("JoinRoom",e.props.roomid)}),K.on("getNextTurn",function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose your target to kill and to protect?"),ie.a.createElement("button",{className:"end-turn-witch-button",onClick:e.UIEndTurnBttn},"End turn")),receiveTurn:!0})}),D.on("KillPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t?e.setState({renderWitchAction:ie.a.createElement("p",null,ie.a.createElement("b",null,e.state.target)," Killed!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}):"No Kill Potion Left"===t&&e.setState({renderWitchAction:ie.a.createElement("p",null,"No Kill Potion Left!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}),D.on("ProtectPlayer",function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t?e.setState({renderWitchAction:ie.a.createElement("p",null,ie.a.createElement("b",null,e.state.target)," Saved!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}):"No Heal Potion Left"===t&&e.setState({renderWitchAction:ie.a.createElement("p",null,"No Heal Potion Left!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,et.length=0,tt.length=0,D.disconnect(),J.disconnect(),K.disconnect(),H.disconnect(),Y.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(et.length=0,tt.length=0,(H=Ie()(ge+"main-page")).on("connect",function(){H.emit("JoinRoom",n.props.roomid),H.emit("RequestToGetPlayers",n.props.roomid)}),H.on("GetPlayers",function(e){D.emit("RequestToRetrieveLeftAbilities",n.props.roomid),D.on("LeftAbilities",function(t){n.setState({renderPlayers:e.map(function(e,a){var r="witch_target_bttn_"+a,o="witch_kill_bttn_"+a,i="witch_protect_bttn"+a;return et.push(i),tt.push(o),ie.a.createElement("div",{key:e},ie.a.createElement("p",{id:r},e),ie.a.createElement("div",null,t.useKill||e===n.props.username?null:ie.a.createElement("button",{id:o,onClick:n.KillPlayerBttn.bind(n,e)},"Kill"),t.useHeal?null:ie.a.createElement("button",{id:i,onClick:n.ProtectPlayerBttn.bind(n,e)},"Protect")))})})})}))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderWitchAction,this.state.endTurnConfirm))}}]),t}(oe.Component),at=(n(116),600),rt="",ot=[],it=function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderUI:null,renderPlayers:null,renderChosenExecutedPlayer:null,renderFinalExecutedPlayer:null,endRoundConfirm:null,timerEnds:!1,renderVotePlayerButton:null},n.VotePlayer=function(){if(window.confirm("Hang "+rt+"?")){var e={chosenPlayer:rt,roomid:n.props.roomid,player:n.props.username};Q.emit("RequestToHangPlayer",e),n.setState({renderChosenExecutedPlayer:ie.a.createElement("p",null,"Your Choice: ",ie.a.createElement("b",null,rt))}),document.getElementById("vote-hanged-button").style.display="none",ot.forEach(function(e){document.getElementById(e).disabled=!0,document.getElementById(e).classList.remove("grayder-background"),document.getElementById(e).classList.add("grayder-background")})}},n.ChoosePlayer=function(e,t){var a={chosenPlayer:rt=e,player:n.props.username,roomid:n.props.roomid};Q.emit("BroadCastMyChoice",a),n.setState({renderVotePlayerButton:ie.a.createElement("button",{id:"vote-hanged-button",className:"vote-hanged-button",onClick:n.VotePlayer},"Vote")})},n.EndRound=function(){var e={roomid:n.props.roomid,player:n.props.username};Q.emit("RequestToEndRound",e),n.setState({endRoundConfirm:null})},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(ot.length=0,Q=Ie()(ge+"round-end"),(X=Ie()(ge+"main-page")).on("connect",function(){X.emit("JoinRoom",e.props.roomid),X.emit("RequestToGetPlayers",e.props.roomid)}),X.on("GetPlayers",function(t){ot.length=0,e.setState({renderPlayers:t.map(function(t,n){var a="round_end_target_bttn_"+t,r="round_end_"+t;return ot.push(a),ie.a.createElement("div",{key:t,className:"in-game-render-players-container-werewolve"},t===e.props.username?ie.a.createElement("button",{className:"grayder-background",id:a,type:"button",onClick:e.ChoosePlayer.bind(e,t),disabled:!0},t):ie.a.createElement("button",{id:a,type:"button",onClick:e.ChoosePlayer.bind(e,t)},t),ie.a.createElement("div",{id:r,className:"in-game-render-players-container-werewolve-chosen"}))})})}),Q.on("connect",function(){Q.emit("JoinRoom",e.props.roomid)}),V=setInterval(function(){at<1?(e.setState({timerEnds:!0}),clearInterval(V)):(at-=1,$=Math.floor(at/60),(z=Math.floor(at%60))<10&&(z="0"+z),e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("h3",null,"Morning: ",$+":"+z))}))},1e3),Q.emit("RequestToGetOtherChoices",this.props.roomid),Q.on("OtherKillDecisions",function(e){for(var t in e)e.hasOwnProperty(t)&&document.getElementById("round_end_"+t)&&(document.getElementById("round_end_"+t).innerText=e[t])}),Q.on("GetOtherChoices",function(e){document.getElementById("round_end_"+e.player)&&(document.getElementById("round_end_"+e.player).innerText=e.chosenPlayer)}),Q.on("BroadcastREDeadPlayers",function(t){if(clearInterval(V),document.getElementById("cupid-layer1")&&document.getElementById("cupid-layer2")){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible");var n="";t.forEach(function(e){return n+=e+" "}),e.setState({renderFinalExecutedPlayer:ie.a.createElement("div",null,ie.a.createElement("p",null,"Final Executed: ",ie.a.createElement("strong",null,n))),endRoundConfirm:ie.a.createElement("button",{className:"end-round-confirm-button",onClick:e.EndRound},"End Morning")})}}))}},{key:"componentDidUpdate",value:function(e,t){if(this.state.renderPlayers,t.renderPlayers,this.state.timerEnds!==t.timerEnds&&this.state.timerEnds){var n={chosenPlayer:this.props.username,roomid:this.props.roomid,player:this.props.username};Q.emit("RequestToHangPlayer",n)}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,ot.length=0,Q.disconnect(),X.disconnect(),clearInterval(V)}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI,this.state.renderVotePlayerButton),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderChosenExecutedPlayer,this.state.renderFinalExecutedPlayer,this.state.endRoundConfirm))}}]),t}(oe.Component),lt=(n(117),function(e){function t(){var e,n;Object(se.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(de.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r))))._isMounted=!1,n.state={renderPlayerRole:null,timer:null,renderRoleUI:null,renderStartBttn:null,startBttnClicked:!1,isAdmin:!1,renderLovers:null,renderCharmedPlayers:null,admin:"",isDead:!1,roundEnds:!1,gameEnds:!1,sideWon:null},n.startBttn=function(){te.emit("RequestToStartTheGame1stRound",n.props.match.params.roomid),n.setState({renderStartBttn:null})},n.CloseTheGame=function(){var e={username:n.props.match.params.username,roomid:n.props.match.params.roomid};te.emit("RequestToCloseGame",e)},n.ChooseLeftTab=function(e){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("left-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible"),document.getElementById("left-tab").classList.add("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.add("in-game-role-tab-container-invisible-move-right")},n.ChooseMiddleTab=function(){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible")},n.ChooseRightTab=function(){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible"),document.getElementById("right-tab").classList.add("in-game-extra-info-tab-container-visible"),document.getElementById("middle-tab").classList.add("in-game-role-tab-container-invisible-move-left")},n}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&((te=Ie()(ge+"in-game")).on("connect",function(){te.emit("GetGameInfo",e.props.match.params.roomid),te.emit("JoinRoom",e.props.match.params.roomid)}),te.on("PlayerCloseGame",function(e){"ok"===e&&(window.location="/")}),(ne=Ie()(ge+"get-admin",{query:{roomid:this.props.match.params.roomid}})).on("connect",function(){ne.emit("JoinRoom",e.props.match.params.roomid)}),ne.on("GetAdmin",function(t){e.setState({admin:t.admin}),e.props.match.params.username===t.admin&&e.setState({renderStartBttn:ie.a.createElement("button",{className:"in-game-start-night-button",type:"button",onClick:e.startBttn},"Start the night"),isAdmin:!0})}),te.on("RetrieveGameInfo",function(t){t.every(function(t){var n=!1;return t.special||t.player.every(function(a){return a===e.props.match.params.username?(e.setState({renderPlayerRole:t.name}),"Werewolves"===t.name?e.setState({renderRoleUI:ie.a.createElement(Xe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Seer/ Fortune Teller"===t.name?e.setState({renderRoleUI:ie.a.createElement(Ue,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Cupid"===t.name?e.setState({renderRoleUI:ie.a.createElement(je,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Witch"===t.name?e.setState({renderRoleUI:ie.a.createElement(nt,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The savior"===t.name?e.setState({renderRoleUI:ie.a.createElement(Ye,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The pied piper"===t.name?e.setState({renderRoleUI:ie.a.createElement(Je,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The fox"===t.name?e.setState({renderRoleUI:ie.a.createElement(Fe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The bear leader"===t.name&&e.setState({renderRoleUI:ie.a.createElement(Ne,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}),n=!0,!1):(e.setState({renderPlayerRole:"Ordinary Townsfolk"}),!0)}),!n})}),ae=Ie()(ge+"in-game"),te.on("RevealLovers",function(t){t.forEach(function(n,a){n.player===e.props.match.params.username&&(0===a?e.setState({renderLovers:ie.a.createElement("p",null,"You are now in love with ",t[a+1].player," - ",t[a+1].role)}):e.setState({renderLovers:ie.a.createElement("p",null,"You are now in love with ",t[a-1].player," - ",t[a-1].role)}))})}),te.emit("RequestToRetrieveCharmPlayers",this.props.match.params.roomid),te.on("GetListOfCharmed",function(t){t.every(function(n){return e.props.match.params.username!==n||(e.setState({renderCharmedPlayers:t.map(function(e,t){var n="charmed_"+t;return ie.a.createElement("p",{key:n},e)})}),!1)})}),(re=Ie()(ge+"retrieve-round-ends")).on("connect",function(){re.emit("JoinRoom",e.props.match.params.roomid)}),re.on("RoundEnds",function(t){t.dead instanceof Array&&t.dead.forEach(function(t,n){e.props.match.params.username===t&&e.setState({isDead:!0})}),e.setState({roundEnds:!0})}),(Z=Ie()(ge+"in-game")).on("connect",function(){Z.emit("JoinRoom",e.props.match.params.roomid)}),Z.on("StartNewRound",function(t){"Start new round"===t&&(e.setState({roundEnds:!1}),e.state.isAdmin&&e.setState({renderStartBttn:ie.a.createElement("button",{className:"in-game-start-night-button",type:"button",onClick:e.startBttn},"Start the night")}))}),(ee=Ie()(ge+"round-end")).on("connect",function(){ee.emit("JoinRoom",e.props.match.params.roomid)}),ee.on("BroadcastREDeadPlayers",function(t){t.every(function(t){return e.props.match.params.username!==t||(e.setState({isDead:!0}),!1)})}),te.on("GameEnds",function(t){"Human won"===t?e.setState({sideWon:"Human"}):"Werewolves won"===t?e.setState({sideWon:"Werewolves"}):"Piper won"===t?e.setState({sideWon:"Piper"}):"Lovers won"===t&&e.setState({sideWon:"Piper"}),e.setState({gameEnds:!0})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Z.disconnect(),ee.disconnect(),te.disconnect(),ne.disconnect(),ae.disconnect(),re.disconnect()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-header-container"},ie.a.createElement("button",{className:"in-game-header-item-holder",onClick:this.ChooseLeftTab,id:"left-icon"},ie.a.createElement("i",{className:"fas fa-user fa-lg"})),ie.a.createElement("button",{className:"in-game-header-item-holder tab-active",onClick:this.ChooseMiddleTab,id:"middle-icon"},ie.a.createElement("i",{className:"fas fa-boxes fa-lg"})),ie.a.createElement("button",{className:"in-game-header-item-holder",onClick:this.ChooseRightTab,id:"right-icon"},ie.a.createElement("i",{className:"fas fa-clipboard-list fa-lg"}))),ie.a.createElement("div",{className:"in-game-main-container"},ie.a.createElement("div",{className:"in-game-title"},ie.a.createElement("h2",null,"In Game Room")),ie.a.createElement("div",{className:"in-game-role-tab-container",id:"middle-tab"},ie.a.createElement("div",{className:"in-game-role-tab-title"},ie.a.createElement("h4",null,this.state.renderPlayerRole)),this.state.gameEnds?ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement("p",null,this.state.sideWon," Won!"),ie.a.createElement("button",{onClick:this.CloseTheGame},"Close")):ie.a.createElement(ie.a.Fragment,null,this.state.roundEnds?ie.a.createElement(ie.a.Fragment,null,this.state.isDead?ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement("p",null,"You are dead")):ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement(it,{roomid:this.props.match.params.roomid,username:this.props.match.params.username}))):ie.a.createElement(ie.a.Fragment,null,this.state.isDead?ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement("p",null,"You are dead")):ie.a.createElement("div",{className:"in-game-role-tab-main"},this.state.renderRoleUI))),this.state.renderStartBttn),ie.a.createElement("div",{className:"in-game-user-tab-container",id:"left-tab"},ie.a.createElement("div",{className:"in-game-room-info-container"},ie.a.createElement("p",null,"Room ID: ",this.props.match.params.roomid," "),ie.a.createElement("p",null,"Admin: ",this.state.admin),ie.a.createElement("p",null,"Name: ",this.props.match.params.username)),ie.a.createElement("div",{className:"in-game-room-history-container"}),ie.a.createElement("div",{className:"in-game-role-tab-start-end-button-container"})),ie.a.createElement("div",{className:"in-game-extra-info-tab-container",id:"right-tab"},ie.a.createElement("div",{className:"in-game-lover-info"},this.state.renderLovers),ie.a.createElement("div",{className:"in-game-charm-info"},ie.a.createElement("h4",null,"List of Charmed Players"),this.state.renderCharmedPlayers))))}}]),t}(oe.Component)),ct=function(e){function t(){return Object(se.a)(this,t),Object(de.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"App"},ie.a.createElement(ye.a,{exact:!0,path:"/",component:he}),ie.a.createElement(ye.a,{path:"/login",component:Ee}),ie.a.createElement(ye.a,{exact:!0,path:"/waiting-room/:roomid/:username",component:Le}),ie.a.createElement(ye.a,{exact:!0,path:"/in-game-room/:roomid/:username",component:lt}),ie.a.createElement(Te,null))}}]),t}(oe.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=n(125),mt=n(45);ce.a.render(ie.a.createElement(st.a,null,ie.a.createElement(mt.a,null,ie.a.createElement(ct,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,n){e.exports=n(124)},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},76:function(e,t,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.6b60354c.chunk.js.map